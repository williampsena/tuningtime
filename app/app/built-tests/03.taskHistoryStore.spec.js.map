{"version":3,"names":[],"mappings":"","sources":["03.taskHistoryStore.spec.js"],"sourcesContent":["'use strict';\n\nvar _chalk = require('chalk');\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _StoreContext = require('../built-tests/js/stores/StoreContext');\n\nvar _StoreContext2 = _interopRequireDefault(_StoreContext);\n\nvar _Task = require('../built-tests/js/models/Task');\n\nvar _Task2 = _interopRequireDefault(_Task);\n\nvar _TaskLog = require('../built-tests/js/models/TaskLog');\n\nvar _TaskLog2 = _interopRequireDefault(_TaskLog);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar taskCreated, taskLogCreated;\n\nfunction getTaskModel(id, name) {\n  return new _Task2.default({\n    _id: id,\n    name: name\n  });\n}\n\nfunction getTaskLogModel(id, name, taskCreated) {\n  return new _TaskLog2.default({\n    _id: id,\n    task: taskCreated,\n    description: name\n  });\n}\n\n//\n// Timer process\n//\ndescribe('T3 - TaskStoreHistory', function () {\n  before(function (done) {\n    _StoreContext2.default.stores.taskLog.removeAll().then(function () {\n      done();\n    });\n  });\n\n  ///\n  /// Preparing task before to add history\n  ///\n  it('T3.01 - As a user I want to create a task before to create history', function (done) {\n    _StoreContext2.default.stores.taskLog.create(getTaskModel(1, 'Playing video games')).then(function (d) {\n      taskCreated = d;\n      done();\n    });\n  }).timeout(5000);\n\n  ///\n  /// Insert task history\n  ///\n  it('T3.02 - As a user I want to create task history', function (done) {\n    _StoreContext2.default.stores.taskLog.create(getTaskLogModel(1, 'First level', taskCreated)).then(function (d) {\n      taskLogCreated = d;\n      done();\n    });\n  }).timeout(5000);\n\n  ///\n  /// Update task history\n  ///\n  it('T3.03 - As a user I want to update task history', function (done) {\n    _StoreContext2.default.stores.taskLog.update(getTaskLogModel(taskLogCreated.id, 'First level :)', taskCreated)).then(function (d) {\n      done();\n    }).catch(function (err) {\n      throw err;\n    });\n  }).timeout(5000);\n\n  ///\n  /// Remove task history\n  ///\n  it('T3.04 - As a user I want to remove task history', function (done) {\n    _StoreContext2.default.stores.taskLog.remove(taskLogCreated.id).then(function (d) {\n      done();\n    });\n  }).timeout(5000);\n\n  ///\n  /// Update task model in task history\n  ///\n  it('T3.05 - As a user I want to update task model in task history', function (done) {\n    _StoreContext2.default.stores.taskLog.updateTask(getTaskModel(taskCreated.id, 'Playing video games')).then(function (d) {\n      done();\n    });\n  }).timeout(5000);\n});"],"file":"03.taskHistoryStore.spec.js","sourceRoot":"/source/"}